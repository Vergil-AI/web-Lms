function isMatch(t,n,e={strict:!1}){return compareStrings(t,n,e.strict)}function compareStrings(t,n,e=!1){return e?t.trim()===n.trim():t.trim().toLowerCase()===n.trim().toLowerCase()}let editor;require.config({paths:{vs:"https://unpkg.com/monaco-editor@0.38.0/min/vs"}});require(["vs/editor/editor.main"],function(){editor=monaco.editor.create(document.getElementById("editor"),{value:`// Coba ubah teks di bawah ini dan klik "Jalankan Kode"
console.log("Halo dunia!");`,language:"javascript",theme:"vs-dark",fontSize:14,automaticLayout:!0})});window.runCode=function(){const userCode=editor.getValue(),outputElement=document.getElementById("consoleOutput"),msg=document.getElementById("progressMsg");outputElement.textContent="",msg.textContent="";try{const originalLog=console.log,output=[];console.log=(...t)=>output.push(t.join(" ")),eval(userCode),console.log=originalLog;const result=output.join(`
`)||"// Tidak ada output";outputElement.textContent=result;const expectedOutput="Halo dunia!";isMatch(result,expectedOutput)?(msg.textContent="✅ Output sesuai! Menyimpan progress...",markProgress("javascript","pengenalan-javascript",!0)):msg.textContent="❌ Output belum sesuai. Coba lagi."}catch(t){outputElement.textContent="❌ Error: "+t.message}};window.markProgress=function(t,n,e=!1){const o=document.getElementById("progressBtn"),s=document.getElementById("progressMsg");e||(o.disabled=!0,o.textContent="⏳ Menyimpan..."),fetch(`/update_progress/${t}/${n}`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(r=>{if(!r.ok)throw new Error("Gagal menyimpan.");return r.text()}).then(()=>{e||(o.textContent="✅ Selesai"),s.textContent="✅ Progress berhasil disimpan!"}).catch(r=>{e||(o.disabled=!1,o.textContent="✔️ Coba Lagi"),s.textContent="❌ Gagal menyimpan progress.",console.error(r)})};
